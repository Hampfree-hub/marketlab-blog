# üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit hook –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–≠—Ç–æ—Ç hook –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç –Ω–∞ —Å–µ–∫—Ä–µ—Ç—ã –∏ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.**

---

## üìã –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Windows)

### –í–∞—Ä–∏–∞–Ω—Ç 1: Git Bash (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)

1. **–û—Ç–∫—Ä–æ–π Git Bash** –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   cd "D:\Projects\HampfreeBlog"
   ```

2. **–°–∫–æ–ø–∏—Ä—É–π —à–∞–±–ª–æ–Ω:**
   ```bash
   cp .git/hooks/pre-commit.sample .git/hooks/pre-commit
   ```

3. **–°–¥–µ–ª–∞–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
   ```bash
   chmod +x .git/hooks/pre-commit
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   .git/hooks/pre-commit
   ```
   –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º..." –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ.

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: PowerShell

**–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.git/hooks/pre-commit` –≤—Ä—É—á–Ω—É—é:**

1. –û—Ç–∫—Ä–æ–π `.git/hooks/pre-commit.sample` –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
3. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ñ–∞–π–ª `.git/hooks/pre-commit` (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è!)
4. –í—Å—Ç–∞–≤—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`.git/hooks/pre-commit`, –∞ –ù–ï `.git/hooks/pre-commit.sh`)!

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

**–ü—Ä–æ–≤–µ—Ä—å hook –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º –∫–æ–º–º–∏—Ç–µ:**

1. **–°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å —Å–µ–∫—Ä–µ—Ç–æ–º:**
   ```bash
   echo "API_KEY=secret123" > test-secret.txt
   git add test-secret.txt
   ```

2. **–ü–æ–ø—Ä–æ–±—É–π –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å:**
   ```bash
   git commit -m "test"
   ```

3. **Hook –¥–æ–ª–∂–µ–Ω –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å:**
   ```
   ‚ùå –û–®–ò–ë–ö–ê: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ —Ñ–∞–π–ª–∞—Ö!
   ```

4. **–û—Ç–∫–∞—Ç–∏ —Ç–µ—Å—Ç:**
   ```bash
   git reset HEAD test-secret.txt
   rm test-secret.txt
   ```

---

## üîÑ –û—Ç–∫–ª—é—á–µ–Ω–∏–µ hook (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

**–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!** –ù–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:

```bash
git commit --no-verify -m "message"
```

**‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –≤ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –∏ –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏!**

---

## üõ†Ô∏è –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. –û—Ç–∫—Ä–æ–π `.git/hooks/pre-commit`
2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
3. –°–æ—Ö—Ä–∞–Ω–∏

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ —Å—Ç—Ä–æ–∫–∞—Ö:**
- `grep -iE "(password|secret|token...)"` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ–∫—Ä–µ—Ç—ã
- `FORBIDDEN_PATTERNS="AUDIT|STRATEGY..."` ‚Äî –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- `.git/hooks/pre-commit.sample` ‚Äî —à–∞–±–ª–æ–Ω hook
- `SECURITY_CHECKLIST.md` ‚Äî —á–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
- `PUBLIC_REPO_SECURITY_PLAN.md` ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

**–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ hook –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç!** üîí

