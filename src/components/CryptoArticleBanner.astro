---
// CryptoArticleBanner.astro - –ë–∞–Ω–Ω–µ—Ä —Å—Ç–∞—Ç—å–∏ –≤ 8-–±–∏—Ç —Å—Ç–∏–ª–µ —Å –±–∞–ª–∞–Ω—Å–æ–º 70/30
interface Props {
	title: string;
	subtitle?: string;
	archiveNumber?: string;
	category?: 'rvi' | 'mfi' | 'chaikin' | 'williams' | 'general';
	profit?: string;
	successRate?: string;
}

const {
	title,
	subtitle,
	archiveNumber,
	category = 'general',
	profit,
	successRate,
} = Astro.props;

// –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π (—ç–º–æ–¥–∑–∏)
const categoryIcons: Record<string, string> = {
	rvi: 'üìä',
	mfi: 'üí∞',
	chaikin: '‚ö°',
	williams: 'üìà',
	general: 'üéÆ',
};

// –¶–≤–µ—Ç–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
const categoryColors: Record<string, string> = {
	rvi: 'var(--crypto-bitcoin-gradient)',
	mfi: 'var(--crypto-ethereum-gradient)',
	chaikin: 'var(--crypto-success-gradient)',
	williams: 'var(--crypto-danger-gradient)',
	general: 'var(--nes-sky-gradient)',
};

const icon = categoryIcons[category] || categoryIcons.general;
const gradient = categoryColors[category] || categoryColors.general;
---

<div class="crypto-article-banner" style={`background: ${gradient};`} role="banner" aria-label={`Article banner: ${title}`}>
	<!-- 8-–±–∏—Ç —Ä–∞–º–∫–∞ (30% —Å—Ç–∏–ª—è) -->
	<div class="crypto-banner-frame" aria-hidden="true">
		<div class="crypto-banner-corner crypto-banner-corner-tl"></div>
		<div class="crypto-banner-corner crypto-banner-corner-tr"></div>
		<div class="crypto-banner-corner crypto-banner-corner-bl"></div>
		<div class="crypto-banner-corner crypto-banner-corner-br"></div>
	</div>
	
	<!-- –°–µ—Ä—å—ë–∑–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (70%) -->
	<div class="crypto-banner-content">
		<div class="crypto-banner-header">
			<span class="crypto-banner-icon" aria-hidden="true">{icon}</span>
			<div class="crypto-banner-title-group">
				<h1 class="crypto-banner-title">{title}</h1>
				{subtitle && <p class="crypto-banner-subtitle">{subtitle}</p>}
			</div>
		</div>
		
		{archiveNumber && (
			<div class="crypto-banner-meta">
				<span class="crypto-banner-archive">Market Lab Archive #{archiveNumber}</span>
			</div>
		)}
		
		{(profit || successRate) && (
			<div class="crypto-banner-stats">
				{profit && (
					<div class="crypto-stat">
						<span class="crypto-stat-label">Previous Signal:</span>
						<span class="crypto-stat-value crypto-price-up">{profit}</span>
					</div>
				)}
				{successRate && (
					<div class="crypto-stat">
						<span class="crypto-stat-label">Success Rate:</span>
						<span class="crypto-stat-value">{successRate}</span>
					</div>
				)}
			</div>
		)}
	</div>
</div>

<style>
	.crypto-article-banner {
		position: relative;
		border: var(--nes-border-width, 2px) solid var(--nes-black);
		border-radius: 4px;
		padding: 30px;
		margin-bottom: 30px;
		/* –ë–ï–ó —Ç–µ–Ω–µ–π - –ø–ª–æ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
		min-height: 200px;
		display: flex;
		flex-direction: column;
		justify-content: center;
	}

	/* Focus states –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ */
	.crypto-article-banner:focus-within {
		outline: 3px solid var(--nes-blue);
		outline-offset: 2px;
		/* –ë–ï–ó —Ç–µ–Ω–µ–π - –ø–ª–æ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
	}

	.crypto-article-banner:focus-within:not(:focus-visible) {
		outline: none;
		/* –ë–ï–ó —Ç–µ–Ω–µ–π - –ø–ª–æ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
	}
	
	/* 8-–±–∏—Ç —Ä–∞–º–∫–∞ (30% —Å—Ç–∏–ª—è) */
	.crypto-banner-frame {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		pointer-events: none;
	}
	
	.crypto-banner-corner {
		position: absolute;
		width: 20px;
		height: 20px;
		border: var(--nes-border-width, 2px) solid var(--nes-black);
		border-radius: 4px; /* –°–≥–ª–∞–∂–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
		background: var(--nes-white);
		opacity: 0.3;
	}
	
	.crypto-banner-corner-tl {
		top: 10px;
		left: 10px;
	}
	
	.crypto-banner-corner-tr {
		top: 10px;
		right: 10px;
	}
	
	.crypto-banner-corner-bl {
		bottom: 10px;
		left: 10px;
	}
	
	.crypto-banner-corner-br {
		bottom: 10px;
		right: 10px;
	}
	
	/* –°–µ—Ä—å—ë–∑–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (70%) */
	.crypto-banner-content {
		position: relative;
		z-index: 1;
	}
	
	.crypto-banner-header {
		display: flex;
		align-items: center;
		gap: 20px;
		margin-bottom: 15px;
	}
	
	.crypto-banner-icon {
		font-size: 3rem;
		filter: drop-shadow(2px 2px 0px var(--nes-black));
	}
	
	.crypto-banner-title-group {
		flex: 1;
	}
	
	.crypto-banner-title {
		font-family: 'Arial', sans-serif;
		font-size: 2rem;
		font-weight: bold;
		/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: —Ç—ë–º–Ω—ã–π —Ü–≤–µ—Ç –Ω–∞ –∂—ë–ª—Ç–æ–º —Ñ–æ–Ω–µ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
		color: var(--nes-black);
		text-shadow: 1px 1px 0px rgba(255, 255, 255, 0.5);
		margin: 0;
		line-height: 1.2;
	}
	
	.crypto-banner-subtitle {
		font-family: 'Arial', sans-serif;
		font-size: 1rem;
		/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: —Ç—ë–º–Ω—ã–π —Ü–≤–µ—Ç –Ω–∞ –∂—ë–ª—Ç–æ–º —Ñ–æ–Ω–µ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
		color: var(--nes-black);
		text-shadow: 1px 1px 0px rgba(255, 255, 255, 0.5);
		margin: 5px 0 0 0;
	}
	
	.crypto-banner-meta {
		margin-top: 10px;
	}
	
	.crypto-banner-archive {
		font-family: var(--nes-font);
		font-size: 0.7rem;
		color: rgba(255, 255, 255, 0.8);
		text-shadow: 1px 1px 0px var(--nes-black);
		background: rgba(0, 0, 0, 0.2);
		padding: 4px 8px;
		border: 1px solid rgba(255, 255, 255, 0.3);
		border-radius: 4px; /* –°–≥–ª–∞–∂–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
	}
	
	.crypto-banner-stats {
		display: flex;
		gap: 20px;
		margin-top: 15px;
		flex-wrap: wrap;
	}
	
	.crypto-stat {
		display: flex;
		align-items: center;
		gap: 8px;
		background: rgba(255, 255, 255, 0.15);
		border-radius: 4px; /* –°–≥–ª–∞–∂–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
		padding: 8px 12px;
		border: 2px solid rgba(255, 255, 255, 0.3);
	}
	
	.crypto-stat-label {
		font-family: 'Arial', sans-serif;
		font-size: 0.9rem;
		color: rgba(255, 255, 255, 0.9);
		text-shadow: 1px 1px 0px var(--nes-black);
	}
	
	.crypto-stat-value {
		font-family: 'Arial', sans-serif;
		font-size: 1rem;
		font-weight: bold;
		color: var(--nes-white);
		text-shadow: 2px 2px 0px var(--nes-black);
	}
	
	/* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
	@media (max-width: 768px) {
		.crypto-article-banner {
			padding: 20px;
			min-height: 150px;
		}
		
		.crypto-banner-title {
			font-size: 1.5rem;
		}
		
		.crypto-banner-icon {
			font-size: 2rem;
		}
		
		.crypto-banner-stats {
			flex-direction: column;
			gap: 10px;
		}
	}

	/* –¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê: CryptoArticleBanner */
	html.dark-theme .crypto-article-banner {
		border-color: rgba(0, 255, 65, 0.4);
	}

	html.dark-theme .crypto-banner-title {
		color: var(--nes-neon-green, #00ff41);
		text-shadow: 
			0 0 10px rgba(0, 255, 65, 0.5),
			2px 2px 0px rgba(0, 0, 0, 0.8);
	}

	html.dark-theme .crypto-banner-subtitle {
		color: var(--nes-neon-cyan, #00ffff);
	}

	html.dark-theme .crypto-banner-archive {
		color: var(--nes-text-muted, #999999);
		border-color: rgba(0, 255, 65, 0.4);
	}

	html.dark-theme .crypto-stat-label {
		color: var(--nes-text-light, #e5e5e5);
	}

	html.dark-theme .crypto-stat-value {
		color: var(--nes-neon-green, #00ff41);
	}
</style>




